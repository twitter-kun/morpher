БРЭНД НЬЮ ФИКСЕР ОФ ЁР УЕБИЩНЫЙ ВОЙС

Тулза которая морфит голос таким каким его человек слишит сам. Конкретнее происходит попытка симуляции эффектов получаемых из-за костной проводимости.
Эффекта два:
1) Низкие частоты (и в редких случаях, судя по некоторым исследованиям, оче-оче высокие) проводятся по кости значительно лучше.
2) Проявляется оче небольшое, почти незаметное, эхо связанное с тем что звук по воздуху доходит чуть долше чем по кости.

ЮЗАДЖ:
/path/to/bin <входной файл> <выходной файл> PRE_AMP REDUCE_LOW_RATE CUT_LOW_RATE REDUCE_MID_RATE CUT_HIGH_RATE REDUCE_HIGH_RATE SHIFT_VAL SHIFT_MUL POST_AMP

Пример параметров которые юзал я:
/path/to/bin <входной файл> <выходной файл> 0.2 1 0.03 0.04 1 1 500 0.6 8

Объяснение всего происходящего:
Делалось c fftw который я до конца так и не понял (в частности почему, весь звуковой спектр лежит только в 20 процентах массива, независимо от выбранного размера окна).

PRE_AMP и POST_AMP - при слишком высоких исходных амплитудах появляются странные артефакты после Фурье. На глаз были выбраны PRE_AMP=0.2 и POST_AMP=8

Весь спектр мы будем делить на три части (высокие, средние, низкие). Мы будем оставлять только низкие (и в редких случаях, судя по некоторым исследованиям, оче-оче высокие), остальные же будут глушиться (полностью или почти полностью)

CUT_LOW_RATE, CUT_HIGH_RATE (теперь в герцах) - разделители между низкими-средним и средними-высокими соответственно. CUT_LOW_RATE - выставляем около 3000 в общем случае => 0.02-0.08 приемлимые значения могут быть; теоретически более низкие значения для кунов, чуть выше для тянов. CUT_HIGH_RATE - в общем случае выставляем единицу (22000), так как высокие и средние нам не нужно различать между собой особо. Однако если у нас тот самый редкий случай, когда нам нужно особо высокие частоты таки "передать по кости", то ставим 15000-20000.

REDUCE_LOW_RATE, REDUCE_MID_RATE, REDUCE_HIGH_RATE - рейты того как мы унижаем какой спектр частот. Для низких ставим единицу (1) всегда, это основные частоты которые мы оттуда получаем). Для средних значения 0.02-0.1 рекомендуемы (по кости средние частоты передаются крайне плохо, но все таки передаются). Для высоких либо также как для низких, либо 0.4-0.8, если речь об исключении которое я уже не раз упомянул.

SHIFT_VAL - величина смещения нефильтрованного звука (в семплах) - "внешний звук" у нас задерживается
SHIFT_MUL - множитель амплитуды внешнего звука - "внешний звук" у нас кажется тише чем звук по кости

Исходник: https://my.mixtape.moe/lsykrx.c
